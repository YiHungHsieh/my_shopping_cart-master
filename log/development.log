  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateProducts (20170519125310)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "price" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170519125310"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateOrders (20170521070506)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "recipient" varchar, "tel" varchar, "email" varchar, "note" text, "state" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170521070506"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateOrderItems (20170521070518)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "order_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "order_id" integer, "price" integer, "quantity" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, CONSTRAINT "fk_rails_f1a29ddd47"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_e3cb28f071"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_order_items_on_product_id" ON "order_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_order_items_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_order_items_on_product_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_order_items_on_order_id" ON "order_items" ("order_id")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170521070518"]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2017-05-24 13:46:22.765895"], ["updated_at", "2017-05-24 13:46:22.765895"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_order_items_on_order_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_order_items_on_order_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_order_items_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_order_items_on_product_id' AND type='index'
[0m
Started GET "/cart/" for 127.0.0.1 at 2017-05-24 21:47:14 +0800
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CartsController#show as HTML
  Rendering carts/show.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered carts/_cart.html.erb (9.5ms)
  Rendered carts/show.html.erb within layouts/application (13.8ms)
Completed 500 Internal Server Error in 39ms (ActiveRecord: 0.5ms)


  
ActionView::Template::Error (undefined method `title' for nil:NilClass):
    10:   <tbody>
    11:     <% cart.items.each do |item| %>
    12:     <tr>
    13:       <td><%= item.product.title %></td>
    14:       <td><%= item.quantity %></td>
    15:       <td><%= item.product.price %></td>
    16:       <td><%= item.total_price %></td>
  
app/views/carts/_cart.html.erb:13:in `block in _app_views_carts__cart_html_erb__3601485872366909237_70162223699640'
app/views/carts/_cart.html.erb:11:in `each'
app/views/carts/_cart.html.erb:11:in `_app_views_carts__cart_html_erb__3601485872366909237_70162223699640'
app/views/carts/show.html.erb:5:in `_app_views_carts_show_html_erb___2315520231750297418_70162200360160'
Started GET "/cart/" for 127.0.0.1 at 2017-05-24 21:47:22 +0800
Processing by CartsController#show as HTML
  Rendering carts/show.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered carts/_cart.html.erb (3.2ms)
  Rendered carts/show.html.erb within layouts/application (4.7ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (undefined method `title' for nil:NilClass):
    10:   <tbody>
    11:     <% cart.items.each do |item| %>
    12:     <tr>
    13:       <td><%= item.product.title %></td>
    14:       <td><%= item.quantity %></td>
    15:       <td><%= item.product.price %></td>
    16:       <td><%= item.total_price %></td>
  
app/views/carts/_cart.html.erb:13:in `block in _app_views_carts__cart_html_erb__3601485872366909237_70162224911940'
app/views/carts/_cart.html.erb:11:in `each'
app/views/carts/_cart.html.erb:11:in `_app_views_carts__cart_html_erb__3601485872366909237_70162224911940'
app/views/carts/show.html.erb:5:in `_app_views_carts_show_html_erb___2315520231750297418_70162224958420'
Started GET "/" for 127.0.0.1 at 2017-05-24 21:47:27 +0800
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/user/.rvm/gems/ruby-2.4.1/gems/railties-5.1.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/user/.rvm/gems/ruby-2.4.1/gems/railties-5.1.1/lib/rails/templates/rails/welcome/index.html.erb (4.3ms)
Completed 200 OK in 11ms (Views: 7.4ms | ActiveRecord: 0.0ms)


Started GET "/products" for 127.0.0.1 at 2017-05-24 21:47:31 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (1.6ms)
  Rendered shared/_navbar.html.erb (1.1ms) [cache miss]
Completed 200 OK in 3352ms (Views: 3350.6ms | ActiveRecord: 0.1ms)


